<%- include("../components/head.ejs")%> <%-
include("../components/navbar.ejs")%>
<main class="flex-grow bg-gray-900 text-slate-400 px-[5rem] py-[3rem]">
  <h1 class="text-[3rem] text-center pb-[3rem] tracking-wide">My Products</h1>
  <p class="text-[1.5rem] text-center pb-[3rem]">
    You can edit or delete your listings...
  </p>
  <% if (products.length > 0) { %>
  <div class="grid md:grid-cols-3 gap-8">
    <% for (let product of products){ %>
    <article
      class="h-full bg-gradient-to-br from-blue-500 via-red-500 to-lime-500 p-[1px] rounded shadow-sm shadow-yellow-100 hover:shadow-md hover:shadow-yellow-100"
    >
      <div class="bg-gray-900 h-full p-2 flex flex-col">
        <h1
          class="text-[1.5rem] text-center py-[1rem] font-semibold tracking-widest"
        >
          <%= product.title%>
        </h1>
        <img
          class="w-full overflow-hidden rounded-md shadow-lg shadow-gray-700"
          src="<%= product.imgUrl%>"
          alt="<%= product.title%>"
        />
        <h2
          class="my-[1rem] text-[1.5rem] text-slate-200 tracking-tighter text-left"
        >
          â‚¬<%=product.price%>
        </h2>
        <p class="text-justify"><%= product.description%></p>

        <div class="flex justify-center items-center gap-2 my-[2rem]">
          <button
            class="bg-slate-700 px-[1rem] py-[0.5rem] rounded shadow-sm text-slate-200 hover:bg-gradient-to-br from-yellow-300 to-red-400 hover:text-gray-900"
          >
            <a href="/admin/edit-product/<%= product._id %>">Edit</a>
          </button>
          <form action="/admin/delete-product" method="POST">
            <input type="hidden" name="id" value="<%=product._id%>" />
            <button
              class="bg-slate-700 px-[1rem] py-[0.5rem] rounded shadow-sm text-slate-200 hover:bg-gradient-to-br from-red-300 to-red-500 hover:text-gray-900"
            >
              Delete
            </button>
          </form>
        </div>
      </div>
    </article>
    <%} %>
  </div>
  <% } else { %>
  <div class="h-full flex justify-center items-center">
    <h3 class="text-[3rem] text-red-400">No product is available</h3>
  </div>
  <% } %>
</main>
<%- include("../components/footer.ejs")%>
